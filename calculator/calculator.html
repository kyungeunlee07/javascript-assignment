<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/10.0.0/math.min.js"></script>
    <link href="calculator_style.css" rel="stylesheet" type="text/css"> 
    <link href="fonts.css" rel="stylesheet" type="text/css">
</head>
<body>
    <div class="frame"> 
        <div class="dashboard">
            <div class="result-container">
                <input type="text" id="result" readonly>
            </div>
            <div class="display-container">
                <input type="text" id="display">
            </div>
            <div class="clear-keys">
                <button class="clear-key" id="reset-button">
                    AC
                </button>
                <button class="clear-key" id="backspace-button">
                    CE
                </button>
            </div>
            <div class="num-oper-container"> 
                <div class="numbers-container">
                    <button class="numbers" onclick="add('7')">
                        7
                    </button>
                    <button class="numbers" onclick="add('8')">
                        8
                    </button>
                    <button class="numbers" onclick="add('9')">
                        9
                    </button>
                    <button class="numbers" onclick="add('4')">
                        4
                    </button>
                    <button class="numbers" onclick="add('5')">
                        5
                    </button>
                    <button class="numbers" onclick="add('6')">
                        6
                    </button>
                    <button class="numbers" onclick="add('1')">
                        1
                    </button>
                    <button class="numbers" onclick="add('2')">
                        2  
                    </button>
                    <button class="numbers" onclick="add('3')">
                        3
                    </button>
                    <button class="numbers" onclick="add('0')">
                        0  
                    </button>
                    <button class="numbers" onclick="add('00')">
                        00 
                    </button>
                    <button class="numbers" onclick="add('.')">
                        .
                    </button>
                </div>
                <div class="operation-container">
                    <button class="addition" onclick="add('+')"> 
                        +
                    </button>
                    <button class="subtraction" onclick="add('-')">
                        -
                    </button>
                    <button class="multiplication" onclick="add('x')">
                        x
                    </button>
                    <button class="division" onclick="add('รท')">
                        รท
                    </button>
                </div>
                <div class="equal-container"> 
                    <button class="percent" onclick="add('%')">
                        %
                    </button>
                    <button class="equal" id="equal-button">
                        =
                    </button>
                </div>
            </div>
            
        </div>
    </div>
</body>
</html>

<script>
    var numberClicked = false;
    var isOperatorClicked = false;
    var currentInput = "";

    function add(char) {
        if(numberClicked==false){
            if(isNaN(char)==true){}
                else{
                    document.getElementById('display').value += char;
                }
            }else{
                document.getElementById('display').value += char;
            }

        if(isNaN(char) == true){ 
            numberClicked = false;
        }else
            {numberClicked = true;
        }
    }

    document.getElementById("equal-button").addEventListener("click", function() {
        var display = document.getElementById("display");
        var result = math.evaluate(display.value);        
        var displayResult = document.getElementById("result");
        displayResult.value = result;
        document.querySelector('.result-container').style.display = 'block';
        document.querySelector('.display-container').style.display = 'none';
    });

    document.getElementById("reset-button").addEventListener("click", function() {
        document.getElementById('display').value = "";
        document.getElementById('result').value = "";
        document.querySelector('.result-container').style.display = 'none';
        document.querySelector('.display-container').style.display = 'block';
    });

    document.getElementById("backspace-button").addEventListener("click", function() {
        var display = document.getElementById("display");
        display.value = display.value.substring(0, display.value.length - 1);
    });

</script> 